# Проект четвертой недели курса на Stepik: "Flask с нуля"

## Как работает:
    - раздел в разработке
# Основное задание представлено ниже
Возьмите за основу проект, который получился у вас в третьей главе. Нам предстоит от "базы данных" на JSON перейти к настоящей базе данных.  

Никаких макетов в этот раз. Внешний вид проекта останется без изменений.

####1 Создайте модель "Преподаватель"
* Установите и подключите SQLAlchemy.
* Опишите модель для преподавателя.
* Проверьте, что первичный ключ, типы и констрейнты в порядке.
* upd: сохраните расписание в виде простой json-строки, при выводе превращайте строку в словарь.
Обратите внимание: подход с JSON-строкой хорош в этот раз, ведь по данным не нужно будет искать. Если данные нужно будет редактировать или фильтровать, предпочтительнее хранить каждое время, как запись в отдельной таблице.

####2 Создайте модель "Бронирование"

* Опишите модель Бронирование.
* Свяжите модель отношениями с Преподавателем (one to many).
* Проверьте, что первичный ключ, типы и констрейнты в порядке.

####3 Создайте модель "Заявка на подбор"

* Опишите модель.
* Проверьте, что первичный ключ, типы и констрейнты в порядке.

####4 Наполните базу данных

* Подключите и настройте миграции внутри файла приложения app.py
* Инициализируйте миграции  с помощью flask db init
* Напишите миграцию или команду, которая импортирует данные преподавателей из JSON базы
* Проверьте, что все импортировалось

####5 Доработайте роут преподавателя

* Замените получение данных из файла на выполнение запроса в БД.
* Когда преподавателя не существует, выбросьте 404.

####6 Доработайте роут цели, например, "для переезда"
* Получите преподавателей с помощью запроса с фильтром и сортировкой.

####7 Доработайте роут главной
* Замените получение данных из файла на выполнение запроса в БД.
####8. Доработайте роут и страницу бронирования с обратной связью
* Объедините роуты для отображения и отправки формы в один
* Валидируйте форму: все поля должны быть заполнены.
* Замените запись в файл на запись в базу.

####9 Доработайте роут и страницу заявки на подбор
* Объедините роуты для отображения и отправки формы в один
* Валидируйте форму: все поля должны быть заполнены.
* Замените запись в файл на запись в базу.
 
----
В базовой версии проекта вы можете обойтись тремя моделями: преподаватель, заявка, бронирование.

<i>Бонусное задание: сделайте модель целей  (Goal) и ее Many to Many связь с таблицей преподаваталей.<br>
Разберитесь как писать миграции руками, напишите миграцию, которая поменяет базу данных.</i>
